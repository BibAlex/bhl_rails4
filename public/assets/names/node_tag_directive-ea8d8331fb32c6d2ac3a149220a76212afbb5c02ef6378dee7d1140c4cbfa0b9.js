var customController=["$scope","$log","$window","$http","HierarchySrv","$mdDialog","$mdMedia",function(e,n,o,t,r,i,c){e.isParent=function(){return void 0==typeof e.childrenCount?!1:parseInt(e.childrenCount)>0},e.toggleNode=function(){e.isParent()&&(e.isClosed?(e.isClosed=!1,e.nodeIcon=o.openIcon,e.isLoading=!0,e.expand()):(e.isClosed=!0,e.nodeIcon=o.closedIcon,e.collapse()))},e.expand=function(){var n=r.hierarchy;e.url=o.getAjaxUrl(n,e.id),t({cache:!0,method:"GET",url:e.url}).success(function(n){e.data=n,e.showChildren=!0,e.isLoading=!1}).error(function(){e.data=[]})},e.collapse=function(){e.isLoading=!1,e.showChildren=!1},e.loadDetails=function(n){var o=c("sm")||c("xs");i.show({templateUrl:"/names/get_content/"+e.id,parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0,fullscreen:o})},e.isParent()?e.nodeIcon=o.closedIcon:e.nodeIcon=o.nodeIcon,e.isClosed=!0,e.isLoading=!1,e.showChildren=!1}];namesCtrl.directive("nodeTag",["HierarchySrv",function(e){return{restrict:"E",scope:{id:"@",name:"@",childrenCount:"@",taxonConceptId:"@"},templateUrl:"Node",controller:customController}}]);