var customTreeController=["$scope","$log","$window","$http","HierarchySrv",function(r,t,e,n,a){r.data=[],r.init=function(){var t=a.hierarchy;r.url=e.getAjaxUrl(t,0),n({cache:!0,method:"GET",url:r.url}).success(function(t){r.data=t}).error(function(){r.data=[]})},r.getNodes=function(t){var e=[];for(var n in r.data)(parseInt(r.data[n].childrenCount)>0&&t||0==parseInt(r.data[n].childrenCount)&&!t)&&e.push(r.data[n]);return e},r.getParents=function(){return r.getNodes(!0)},r.getLeaf=function(){return r.getNodes(!1)}}];namesCtrl.directive("treeTag",["HierarchySrv",function(r){return{restrict:"E",scope:{},templateUrl:"Tree",link:function(r,t,e){r.$on("changeHierarchy",function(t,e){r.init()})},controller:customTreeController}}]);